const Relay=()=>{css($c('cover'),{position:'relative',display:'inline-block',width:'200px',height:'152px',left:'48px',margin:'0 16px'}),document.head.innerHTML+='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" style="display:none;"><symbol id="-timer" viewBox="0 0 32 32"><path d="M20.3 1h-8.6v2.9h8.6V1zm-5.7 18.6h2.9V11h-2.9v8.6zM26 10.1l2-2c-.6-.7-1.3-1.4-2-2l-2 2c-2.3-1.8-5.1-2.8-8-2.8C8.9 5.3 3.1 11 3.1 18.1S8.9 31 16 31s12.9-5.8 12.9-12.9c0-3-1.1-5.8-2.9-8zm-10 18c-5.5 0-10-4.5-10-10s4.5-10 10-10 10 4.5 10 10-4.5 10-10 10z"/></symbol></svg>';let e=Element('div');e.id='table';for(let t=0;t<3;t++){let i=Element('div','team');const r='ABC'[t];i.append(Element('div','tri').txt('Team '+r));for(let e=1;e<6;e++)i.append(Element('div','player').ap(Element('span',0,{id:r+e}),Element('div','showtime',{id:r+e+'t'})));i.append(Element('div','teamtime',{innerHTML:`<svg><use href='#-timer'></use></svg><span id='${r+'t'}'>00:00:00</span>`})),e.append(i)}for(let e=1;e<6;e++)WS.on('f.run'+e,t=>{for(let i=0;i<3;i++)$('ABC'[i]+e).txt(t[i])});let t=[[],[],[],[],[]];const i=(e,i)=>{let r=$('ABC'[e]+(i+1)+'t'),n=$('ABC'[e]+'t');r.txt(t[i][e]?Time.formatSec(t[i][e]):''),n.txt(Time.formatSec(t.reduce((t,i)=>t+(i[e]||0),0)))};return WS.on('relay',e=>{let t=Time.toNumber(timer.timerBox.innerText);t>60*timer.duration&&(t=60*timer.duration),WS.emit('data',{room:'control',field:'relay',data:[e[0],e[1]-1,t]})}),WS.on('stime',e=>{let t=Time.toNumber(e[2]);t>60*timer.duration&&(t=60*timer.duration),WS.emit('data',{room:'control',field:'relay',data:[e[0],e[1]-1,t]})}),WS.on('rtime',e=>{t=e;for(let e=3;e--;)for(let t=5;t--;)i(e,t)}),e};